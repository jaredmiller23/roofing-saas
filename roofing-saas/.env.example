# ==============================================================================
# ROOFING SAAS - ENVIRONMENT VARIABLES
# ==============================================================================
# Copy this file to .env.local and fill in your actual values
# Never commit .env.local to version control!
# ==============================================================================

# ------------------------------------------------------------------------------
# SUPABASE CONFIGURATION (Required)
# ------------------------------------------------------------------------------
# Get these from: https://supabase.com/dashboard/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Database Direct Connection (for migrations/admin)
# Get these from: Supabase Dashboard > Settings > Database > Connection string
DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.your-project.supabase.co:5432/postgres
DIRECT_URL=postgresql://postgres:[YOUR-PASSWORD]@db.your-project.supabase.co:5432/postgres

# ------------------------------------------------------------------------------
# QUICKBOOKS OAUTH (Phase 1 - Financial Integration)
# ------------------------------------------------------------------------------
# Get these from: https://developer.intuit.com/app/developer/myapps
QUICKBOOKS_CLIENT_ID=your-client-id
QUICKBOOKS_CLIENT_SECRET=your-client-secret
QUICKBOOKS_REDIRECT_URI=http://localhost:3000/api/quickbooks/callback
QUICKBOOKS_ENVIRONMENT=sandbox # or "production"

# ------------------------------------------------------------------------------
# TWILIO (Phase 2 - SMS & Voice Calls)
# ------------------------------------------------------------------------------
# Get these from: https://console.twilio.com/
TWILIO_ACCOUNT_SID=your-account-sid
TWILIO_AUTH_TOKEN=your-auth-token
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_MESSAGING_SERVICE_SID=your-messaging-service-sid # Optional

# ------------------------------------------------------------------------------
# RESEND EMAIL (Phase 2 - Email Automation)
# ------------------------------------------------------------------------------
# Get API key from: https://resend.com/api-keys
# Setup webhook secret at: https://resend.com/webhooks
RESEND_API_KEY=re_your_api_key_here
RESEND_FROM_EMAIL=noreply@yourdomain.com
RESEND_FROM_NAME=Your Company Name
RESEND_WEBHOOK_SECRET=whsec_your_webhook_secret # For webhook signature verification

# ------------------------------------------------------------------------------
# OPENAI (Phase 4 - AI Assistant)
# ------------------------------------------------------------------------------
# Get API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-your-api-key-here

# ------------------------------------------------------------------------------
# GOOGLE MAPS (Phase 3 - Territory Mapping & Geocoding)
# ------------------------------------------------------------------------------
# Get API key from: https://console.cloud.google.com/apis/credentials
# Enable: Maps JavaScript API, Geocoding API, Places API
GOOGLE_MAPS_API_KEY=your-api-key-here
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your-public-api-key-here # Public-facing maps

# ------------------------------------------------------------------------------
# GOOGLE CALENDAR OAUTH (Phase 3 - Calendar Integration)
# ------------------------------------------------------------------------------
# Get these from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret

# ------------------------------------------------------------------------------
# ELEVENLABS (Phase 4.2 - Voice AI Assistant)
# ------------------------------------------------------------------------------
# Get API key from: https://elevenlabs.io/app/settings/api-keys
# Create agent at: https://elevenlabs.io/app/conversational-ai
ELEVENLABS_API_KEY=sk_your_api_key_here
NEXT_PUBLIC_ELEVENLABS_AGENT_ID=agent_your_agent_id_here

# ------------------------------------------------------------------------------
# PROPERTY DATA PROVIDERS (Phase 4 - Storm Targeting & Enrichment)
# ------------------------------------------------------------------------------

# BatchData - Property & Skip Trace Data
# Get API key from: https://developer.batchdata.com/
BATCHDATA_API_KEY=your-api-key-here
BATCHDATA_API_URL=https://api.batchdata.com # Optional: defaults to production
BATCHDATA_TIMEOUT_MS=30000 # Optional: defaults to 30 seconds

# Tracerfy - Skip Tracing Service
# Get API key from: https://tracerfy.com/api
TRACERFY_API_KEY=your-api-key-here
TRACERFY_API_URL=https://api.tracerfy.com # Optional: defaults to production
TRACERFY_TIMEOUT_MS=60000 # Optional: defaults to 60 seconds for batch processing

# ------------------------------------------------------------------------------
# OPENWEATHER (Phase 4 - Voice Assistant Weather)
# ------------------------------------------------------------------------------
# Get API key from: https://openweathermap.org/api
OPENWEATHER_API_KEY=your-api-key-here

# ------------------------------------------------------------------------------
# NETLIFY (Optional - Deployment Platform)
# ------------------------------------------------------------------------------
# Get API token from: https://app.netlify.com/user/applications
NETLIFY_API_TOKEN=your-api-token-here

# ------------------------------------------------------------------------------
# SENTRY (Error Tracking & Performance Monitoring)
# ------------------------------------------------------------------------------
# Get DSN from: https://sentry.io/settings/[org]/projects/[project]/keys/
# Organization and project names for releases and source maps
SENTRY_DSN=https://[key]@[org].ingest.sentry.io/[project-id]
NEXT_PUBLIC_SENTRY_DSN=https://[key]@[org].ingest.sentry.io/[project-id]
SENTRY_ORG=your-org-slug # Optional: for CLI operations
SENTRY_PROJECT=roofing-saas # Optional: for CLI operations
SENTRY_AUTH_TOKEN=your-auth-token # Optional: for source maps upload

# ------------------------------------------------------------------------------
# APPLICATION CONFIGURATION
# ------------------------------------------------------------------------------
# Base URL of your application
NEXT_PUBLIC_APP_URL=http://localhost:3000

# NextAuth Configuration (if using NextAuth)
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-random-secret-here # Generate with: openssl rand -base64 32

# Environment Mode
NODE_ENV=development # or "production" or "test"

# ==============================================================================
# PRODUCTION DEPLOYMENT NOTES
# ==============================================================================
#
# When deploying to production:
# 1. Update all *_URL variables to use HTTPS production URLs
# 2. Use "production" instead of "sandbox" for QUICKBOOKS_ENVIRONMENT
# 3. Rotate all API keys and secrets (never reuse development keys)
# 4. Enable webhook signature verification (RESEND_WEBHOOK_SECRET)
# 5. Set NODE_ENV=production
# 6. Ensure all public keys (NEXT_PUBLIC_*) are properly configured
#
# Security Best Practices:
# - Never commit .env.local or production secrets to version control
# - Use different API keys for development, staging, and production
# - Rotate keys regularly (every 90 days recommended)
# - Use webhook secrets for all external API webhooks
# - Enable rate limiting and monitoring for production APIs
#
# ==============================================================================
